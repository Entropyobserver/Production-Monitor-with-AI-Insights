# File: .deployment
[config]
SCM_DO_BUILD_DURING_DEPLOYMENT=true

---

# File: runtime.txt
python-3.10

---

# File: startup.sh
#!/bin/bash
set -e

echo "Starting Production Monitor..."
echo "Current working directory: $(pwd)"
echo "Python version: $(python --version)"

# Create .streamlit directory
mkdir -p .streamlit

# Create secrets.toml from environment variables
if [ ! -z "$GOOGLE_API_KEY" ]; then
    cat > .streamlit/secrets.toml << EOF
GOOGLE_API_KEY = "$GOOGLE_API_KEY"
EOF
    echo "✓ API key configured"
else
    echo "⚠ No API key found - AI features disabled"
fi

# Create Streamlit config
cat > .streamlit/config.toml << EOF
[server]
headless = true
port = 8000
enableCORS = false
enableXsrfProtection = false
maxUploadSize = 50

[browser]
gatherUsageStats = false

[theme]
primaryColor = "#1E40AF"
backgroundColor = "#FFFFFF"
secondaryBackgroundColor = "#F8FAFC"
textColor = "#1F2937"
EOF

# Start Streamlit
exec python -m streamlit run app.py \
    --server.port=8000 \
    --server.address=0.0.0.0 \
    --server.headless=true
